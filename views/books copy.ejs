<%- include('layout/header') %>


<div class="container mt-5">
  <!-- The Nav Header -->
  <ul class="nav nav-tabs">
    <li class="nav-item">
      <a class="nav-link active fs-5" data-bs-toggle="tab" href="#allBooks">All Books</a>
    </li>

    <!-- A loop for each genre Header -->
    <% genres.forEach(genre => { %>
      <% if (genre.Books.length != 0) { %>
        <li class="nav-item">
          <a class="nav-link fs-5" data-bs-toggle="tab" href="#genre<%= genre.genreId %>"><%= genre.genreName %></a>
        </li>
      <% } %>
    <% }) %>
  </ul>
  
  
  <!-- The nave Body -->
  <div id="myTabContent" class="tab-content">
    <div class="tab-pane fade active show " id="allBooks">
      <%- include('layout/booksView', {books, id:'0'})%>
    </div>
    

    <!-- A loop for each genre -->
    <% genres.forEach(genre => { %>
      <% if (genre.Books.length != 0) { %>
       
        <div class="tab-pane fade" id="genre<%= genre.genreId %>">
          <!-- The table of the genre -->
          <%- include('layout/booksView', {books : genre.Books, id:genre.genreId})%>
        </div>     
      <% } %>
    <% }) %>


  </div>
</div>

<%- include('layout/footer') %>